<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø²Ù‡Ø±Ø§Ø¡ Ù‚Ù„Ø¨ÙŠ | Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø¨Ø¯ÙŠ Ù„Ù„Ø¬Ø§Ù…Ø¹Ø©</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

        :root {
            /* Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ø¨Ù†Ø§ØªÙŠØ©/ÙˆØ±Ø¯ÙŠØ©) */
            --primary-color: #E91E63; /* ÙˆØ±Ø¯ÙŠ Ø¹Ù…ÙŠÙ‚ (Rose Pink) - Ù„ÙˆÙ† Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ§Ù„Ø£Ø´Ø±Ø·Ø© */
            --secondary-color: #FFCDD2; /* ÙˆØ±Ø¯ÙŠ ÙØ§ØªØ­ Ø¬Ø¯Ø§Ù‹ - Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ©/Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ */
            --background-light: #FCE4EC; /* Ø®Ù„ÙÙŠØ© Ù†Ø§Ø¹Ù…Ø© Ø¬Ø¯Ø§Ù‹ (Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¬Ø³Ù…) */
            --text-dark: #333333;
            --text-light: #FFFFFF;
            --accent-color: #C2185B; /* Ù„ÙˆÙ† ØªÙ…ÙŠÙŠØ² Ø£ØºÙ…Ù‚ Ù„Ù„ØµÙˆØ±/Ø§Ù„Ø±ÙˆØ§Ø¨Ø· */
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--background-light);
            color: var(--text-dark);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        header {
            background: var(--primary-color);
            color: var(--text-light);
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header h1 {
            margin-bottom: 5px;
            font-size: 2.2em;
        }

        header p {
            font-size: 1.1em;
            margin-top: 0;
            font-weight: 400;
        }

        .love-note {
            background-color: var(--secondary-color);
            color: var(--primary-color); /* Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙˆØ±Ø¯Ù‰ Ø§Ù„ØºØ§Ù…Ù‚ Ù„Ù„Ù†Øµ */
            padding: 15px;
            margin: 20px auto;
            border-radius: 12px;
            max-width: 900px;
            text-align: center;
            font-size: 1.2em;
            font-weight: 700;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border: 2px solid var(--primary-color); /* Ø¥Ø¶Ø§ÙØ© Ø¥Ø·Ø§Ø± ÙˆØ±Ø¯ÙŠ */
        }

        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 0 15px;
        }

        .feed-item {
            background-color: var(--text-light);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
            border-right: 5px solid var(--primary-color); /* Ø´Ø±ÙŠØ· Ø¬Ø§Ù†Ø¨ÙŠ ÙˆØ±Ø¯ÙŠ */
            transition: transform 0.2s;
        }
        
        .feed-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .feed-group {
            font-size: 0.9em;
            color: var(--accent-color); /* Ù„ÙˆÙ† ØªÙ…ÙŠÙŠØ² Ø£ØºÙ…Ù‚ */
            font-weight: 700;
            margin-bottom: 8px;
            border-bottom: 1px dashed #FFCDD2;
            padding-bottom: 5px;
        }

        .feed-text {
            font-size: 1em;
            white-space: pre-wrap;
            margin-bottom: 10px;
        }

        .feed-media {
            font-size: 0.85em;
            color: var(--text-dark);
            padding: 5px 10px;
            border-radius: 5px;
            display: block;
            background-color: #FFEAEF; /* Ø®Ù„ÙÙŠØ© Ø®ÙÙŠÙØ© Ø¬Ø¯Ø§Ù‹ Ù„Ù„Ù…ÙŠØ¯ÙŠØ§ */
            margin-top: 10px;
        }

        .feed-timestamp {
            font-size: 0.8em;
            color: #BDBDBD;
            display: block;
            text-align: left;
            margin-top: 10px;
        }

        .loading {
            text-align: center;
            padding: 50px;
            font-size: 1.5em;
            color: var(--primary-color);
        }

        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            font-size: 0.8em;
            color: var(--accent-color);
        }
    </style>
</head>
<body>

    <header>
        <h1>ğŸ’ Ø§Ù„Ø²Ù‡Ø±Ø§Ø¡ØŒ ÙŠØ§ Ù†ÙˆØ± Ø¹ÙŠÙ†ÙŠ</h1>
        <p>Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø¨Ø¯ÙŠ Ù‡Ùˆ ØªÙ‚Ø¯ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ø¬Ù‡Ø¯ÙƒØŒ ÙƒÙ„ Ø±Ø³Ø§Ù„Ø© Ù‡Ù†Ø§ ØªØ°ÙƒØ±Ù†ÙŠ Ø¨Ù…Ø¯Ù‰ Ù‚ÙˆØªÙƒ ÙˆØ¥ØµØ±Ø§Ø±Ùƒ. **Ø£Ù†Ø§ Ø£Ø«Ù‚ Ø¨ÙƒÙ Ø«Ù‚Ø© Ø¹Ù…ÙŠØ§Ø¡**ØŒ ÙˆØ£Ø¹Ù„Ù… Ø£Ù†ÙƒÙ Ø³ØªØµÙ„ÙŠÙ† Ù„Ø£Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø§ØªØ¨. Ø£Ù†Ø§ ÙØ®ÙˆØ± Ø¨ÙƒÙ Ø¯Ø§Ø¦Ù…Ù‹Ø§ ÙŠØ§ Ø±ÙˆØ­ÙŠ.</p>
    </header>

    <div class="love-note">
        "Ø£ØªÙ…Ù†Ù‰ Ø£Ù† ÙŠÙƒÙˆÙ† Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù‡Ùˆ Ø§Ù„Ù‡Ø¯ÙˆØ¡ Ø§Ù„Ø°ÙŠ ØªØ³ØªØ­Ù‚ÙŠÙ†Ù‡ Ø¨Ø¹Ø¯ Ø¹Ù†Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ…. **ÙŠØ§ Ø²Ù‡Ø±ØªÙŠØŒ ÙƒÙˆÙ†ÙŠ Ø¹Ù„Ù‰ Ø«Ù‚Ø© Ø£Ù†ÙƒÙ Ù‚Ø§Ø¯Ø±Ø© Ø¹Ù„Ù‰ ÙØ¹Ù„ Ø§Ù„Ù…Ø³ØªØ­ÙŠÙ„!** ğŸ’–"
    </div>

    <div class="container">
        <div id="feed" class="loading">Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø®ØµØ§Øª...</div>
    </div>

    <div class="footer">
        Ø¨ÙˆØ§Ø³Ø·Ø© Ø­Ø¨ÙŠØ¨ÙƒØŒ Ù„ØªØ¨Ù‚ÙŠ Ù…Ø±ØªØ§Ø­Ø© ÙˆÙ…ÙØ´Ø¬Ø¹Ø©. | Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù‚Ù„Ø¨ÙƒÙ.
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const feedContainer = document.getElementById('feed');
            const dataUrl = 'data/college_feed.json'; // Ù…Ø³Ø§Ø± Ù…Ù„Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

            // Ø¯Ø§Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø¥Ù„Ù‰ ØµÙŠØºØ© Ù…Ù‚Ø±ÙˆØ¡Ø© (Ù…Ù†Ø° Ù‚Ù„ÙŠÙ„ØŒ Ø§Ù„ÙŠÙˆÙ…ØŒ Ø¨Ø§Ù„Ø£Ù…Ø³...)
            function formatTimestamp(timestamp) {
                const now = new Date();
                const postTime = new Date(timestamp);
                const diffMs = now - postTime;
                const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
                
                if (diffHours < 1) {
                    return 'Ù…Ù†Ø° Ù‚Ù„ÙŠÙ„';
                } else if (diffHours < 24) {
                    return `Ù…Ù†Ø° ${diffHours} Ø³Ø§Ø¹Ø©`;
                } else if (diffHours < 48) {
                    return 'ÙŠÙˆÙ… Ø£Ù…Ø³ØŒ ' + postTime.toLocaleTimeString('ar-EG', { hour: '2-digit', minute: '2-digit' });
                } else {
                    return postTime.toLocaleDateString('ar-EG', { year: 'numeric', month: 'long', day: 'numeric' });
                }
            }

            fetch(dataUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.');
                    }
                    return response.json();
                })
                .then(data => {
                    if (data.length === 0) {
                        feedContainer.innerHTML = '<div class="loading">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø®ØµØ§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†. Ø§Ø³ØªØ±ÙŠØ­ÙŠ Ù‚Ù„ÙŠÙ„Ø§Ù‹!</div>';
                        return;
                    }

                    feedContainer.innerHTML = ''; // Ù…Ø³Ø­ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
                    
                    data.forEach(item => {
                        const itemDiv = document.createElement('div');
                        itemDiv.className = 'feed-item';

                        // Ø§Ø³Ù… Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
                        const groupDiv = document.createElement('div');
                        groupDiv.className = 'feed-group';
                        groupDiv.textContent = item.group;
                        itemDiv.appendChild(groupDiv);

                        // Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†ØµÙŠ
                        if (item.text) {
                            const textDiv = document.createElement('div');
                            textDiv.className = 'feed-text';
                            textDiv.textContent = item.text;
                            itemDiv.appendChild(textDiv);
                        }

                        // Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª (Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±)
                        if (item.media) {
                            if (item.media.url && item.media.url.startsWith('http')) {
                                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø©/Ù…Ù„Ù ØªÙ… Ø±ÙØ¹Ù‡ØŒ Ø§Ø¹Ø±Ø¶Ù‡
                                const mediaDiv = document.createElement('div');
                                mediaDiv.className = 'feed-media';
                                
                                // Ø¹Ø±Ø¶ ÙƒØµÙˆØ±Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø§Ù…ØªØ¯Ø§Ø¯ ÙŠØ¯Ø¹Ù… Ø°Ù„Ùƒ
                                if (item.media.type === 'photo') {
                                     mediaDiv.innerHTML = `
                                        <p style="font-weight: bold; margin-bottom: 5px; color: var(--accent-color);">ğŸ–¼ï¸ ØªÙ… ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø´Ø±Ø­!</p>
                                        <img src="${item.media.url}" alt="Ù…Ø±ÙÙ‚ Ù…Ù† ${item.group}" style="max-width: 100%; height: auto; border-radius: 8px; margin-top: 5px; border: 1px solid var(--secondary-color);">
                                    `;
                                } else {
                                     // Ø¹Ø±Ø¶ ÙƒÙ…Ù„Ù Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ­Ù…ÙŠÙ„ (Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ù…Ø«Ù„ PDF, GIF)
                                     mediaDiv.innerHTML = `
                                        <p style="font-weight: bold; margin-bottom: 5px; color: var(--accent-color);">ğŸ“„ Ù…Ø±ÙÙ‚ ØªÙ… ØªØ­Ù…ÙŠÙ„Ù‡ (Ø§Ø¶ØºØ· Ù„Ù„ØªØ­Ù…ÙŠÙ„):</p>
                                        <a href="${item.media.url}" target="_blank" style="color: var(--primary-color); text-decoration: underline;">${item.media.file_name || 'Ù…Ù„Ù Ù…Ø±ÙÙ‚'}</a>
                                    `;
                                }

                                itemDiv.appendChild(mediaDiv);
                            } else {
                                // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø±Ø§Ø¨Ø·ØŒ Ø§Ø¹Ø±Ø¶ ØªÙ†Ø¨ÙŠÙ‡ (Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©/ØºÙŠØ± Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©)
                                const mediaDiv = document.createElement('div');
                                mediaDiv.className = 'feed-media';
                                mediaDiv.style.border = '1px dashed #E57373'; // Ø­Ø¯ÙˆØ¯ ÙˆØ±Ø¯ÙŠØ© Ø­Ù…Ø±Ø§Ø¡ Ø®ÙÙŠÙØ© Ù„Ù„ØªÙ†Ø¨ÙŠÙ‡
                                mediaDiv.style.color = '#E57373';
                                mediaDiv.textContent = `âŒ Ù…Ø±ÙÙ‚ Ø¶Ø®Ù… (${item.media.type}) - Ù„Ù… ÙŠØªÙ… Ø±ÙØ¹Ù‡ Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø­Ø¬Ù….`;
                                itemDiv.appendChild(mediaDiv);
                            }
                        }

                        // Ø§Ù„ØªÙˆÙ‚ÙŠØª
                        const timeDiv = document.createElement('span');
                        timeDiv.className = 'feed-timestamp';
                        timeDiv.textContent = formatTimestamp(item.timestamp);
                        itemDiv.appendChild(timeDiv);

                        feedContainer.appendChild(itemDiv);
                    });
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    feedContainer.innerHTML = `<div class="loading">Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. (Ø§Ù„Ø³Ø¨Ø¨: ${error.message})</div>`;
                });
        });
    </script>
</body>
</html>